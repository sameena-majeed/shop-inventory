"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("primereact/utils");function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var n=r(e),u=function(e){var t=n.useRef(void 0);return n.useEffect((function(){t.current=e})),t.current},c=function(e){return n.useEffect((function(){return e}),[])},o=function(e){var r=e.target,o=void 0===r?"document":r,i=e.type,f=e.listener,l=e.options,s=e.when,a=void 0===s||s,v=n.useRef(null),d=n.useRef(null),g=u(l),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.ObjectUtils.isNotEmpty(e.target)&&(p(),(e.when||a)&&(v.current=t.DomHandler.getTargetElement(e.target))),!d.current&&v.current&&(d.current=function(e){return f&&f(e)},v.current.addEventListener(i,d.current,l))},p=function(){d.current&&(v.current.removeEventListener(i,d.current,l),d.current=null)};return n.useEffect((function(){a?v.current=t.DomHandler.getTargetElement(o):(p(),v.current=null)}),[o,a]),n.useEffect((function(){!d.current||d.current===f&&g===l||(p(),a&&m())}),[f,l]),c((function(){p()})),[m,p]};function i(e){if(Array.isArray(e))return e}function f(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,u,c=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(c.push(n.value),!t||c.length!==t);o=!0);}catch(e){i=!0,u=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw u}}return c}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){return i(e)||f(e,t)||s(e,t)||a()}var d=function(e){var r=e.target,o=e.listener,i=e.options,f=e.when,l=void 0===f||f,s=n.useRef(null),a=n.useRef(null),v=n.useRef([]),d=u(i),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.ObjectUtils.isNotEmpty(e.target)&&(m(),(e.when||l)&&(s.current=t.DomHandler.getTargetElement(e.target))),!a.current&&s.current){var r=v.current=t.DomHandler.getScrollableParents(s.current);a.current=function(e){return o&&o(e)},r.forEach((function(e){return e.addEventListener("scroll",a.current,i)}))}},m=function(){a.current&&(v.current.forEach((function(e){return e.removeEventListener("scroll",a.current,i)})),a.current=null)};return n.useEffect((function(){l?s.current=t.DomHandler.getTargetElement(r):(m(),s.current=null)}),[r,l]),n.useEffect((function(){!a.current||a.current===o&&d===i||(m(),l&&g())}),[o,i]),c((function(){m()})),[g,m]},g=function(e){return o({target:"window",type:"resize",listener:e.listener})};exports.useEventListener=o,exports.useInterval=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=n.useRef(null),o=n.useRef(null),i=n.useCallback((function(){return clearInterval(u.current)}),[u.current]);return n.useEffect((function(){o.current=e})),n.useEffect((function(){if(r)return u.current=setInterval((function(){o.current()}),t),i;i()}),[t,r]),c((function(){i()})),[i]},exports.useMountEffect=function(e){return n.useEffect(e,[])},exports.useOverlayListener=function(e){var r=e.target,u=e.overlay,i=e.listener,f=e.when,l=void 0===f||f,s=n.useRef(null),a=n.useRef(null),m=v(o({type:"click",listener:function(e){i&&i(e,{type:"outside",valid:3!==e.which&&x(e)})}}),2),p=m[0],E=m[1],y=v(g({listener:function(e){i&&i(e,{type:"resize",valid:!t.DomHandler.isTouchDevice()})}}),2),h=y[0],b=y[1],R=v(d({target:s,listener:function(e){i&&i(e,{type:"scroll",valid:!0})}}),2),w=R[0],O=R[1],x=function(e){return s.current&&!(s.current.isSameNode(e.target)||s.current.contains(e.target)||a.current&&a.current.contains(e.target))},j=function(){E(),b(),O()};return n.useEffect((function(){l?(s.current=t.DomHandler.getTargetElement(r),a.current=t.DomHandler.getTargetElement(u)):(j(),s.current=a.current=null)}),[r,u,l]),n.useEffect((function(){j()}),[l]),c((function(){j()})),[function(){p(),h(),w()},j]},exports.useOverlayScrollListener=d,exports.usePrevious=u,exports.useResizeListener=g,exports.useTimeout=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=n.useRef(null),o=n.useRef(null),i=n.useCallback((function(){return clearTimeout(u.current)}),[u.current]);return n.useEffect((function(){o.current=e})),n.useEffect((function(){if(r)return u.current=setTimeout((function(){o.current()}),t),i;i()}),[t,r]),c((function(){i()})),[i]},exports.useUnmountEffect=c,exports.useUpdateEffect=function(e,t){var r=n.useRef(!1);return n.useEffect((function(){if(r.current)return e&&e();r.current=!0}),t)};
